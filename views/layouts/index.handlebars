<div class="container">
    <h1>Movies I want to Watch </h1>
    <ul>
        <!--Looping over movies-->
        {{{#each movies}}}
        <li>{{id}} - {{movie}}</li>
        <button>&times;</button>
        {{/each}}
    </ul>

    <h2>Add a movie</h2>
    <input id="new-movie" type="text" />
    <button id="new-movie-button">Add movie</button>
</div>

<script>
    $(document).ready(function () {
        const $newMovieInput = $("#new-movie-input")
        const $newMovieButton = $("#new-movie-button")

        $newMovieButton.on("click", () => {
            const newMovieText = $newMovieInput.val().trim()

            $.ajax("/api/movies", {
                type: "GET"
                data: {newMovieText: newMovieText},
            }).then(location.reload())
            .catch(err => console.log(err))
        })
    })

</script>